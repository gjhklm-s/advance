<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auction System</title>
    <script type="module">
        // Import Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
        import { getDatabase, ref,onChildAdded, set, get, update, remove, onValue, push } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-database.js";

        // Firebase configuration
       const firebaseConfig = {
  apiKey: "AIzaSyB71Ps4M3pkO9Y9YbZtQtcnta8mwXR-luU",
  authDomain: "happy-70335.firebaseapp.com",
  databaseURL: "https://happy-70335-default-rtdb.firebaseio.com",
  projectId: "happy-70335",
  storageBucket: "happy-70335.firebasestorage.app",
  messagingSenderId: "471068695841",
  appId: "1:471068695841:web:583eccd3c92b236d123260",
  measurementId: "G-SD1EHGBRP9"
};

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

      
 
function listenForAuctionMessages() {
    // ✅ Listen for real-time updates
    onChildAdded(ref(db, "auctionMessages"), (snapshot) => {
        const data = snapshot.val();
        if (data) {
            console.log("🔔 New Auction Alert:", data.message);

            // ✅ Show alert with total points
            const totalPointsText = data.totalPoints !== undefined ? `\nTotal Points: ${data.totalPoints}` : "";
            alert(`${data.message}${totalPointsText}`);
        }
    });
}

// ✅ Start listening when page loads
listenForAuctionMessages();

        // Make Firebase functions accessible globally
        window.db = db;
        window.ref = ref;
        window.set = set;
        window.get = get;
        window.update = update;
        window.remove = remove;
        window.onValue = onValue;
        window.push = push;  // ✅ Now correctly assigned
    </script>
<style>

       body {
	        width: 100%;
    padding: 0rem;
    background: linear-gradient(to right, #fca2ae, #fdfd40);
   /* background: rgb(208, 232, 180);*/
    margin: 0rem auto;
    max-width: 10000px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
text-align: center;
    
	  
           

        }
   
         #auctionScroll {
           position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: #222;
    color: white;
    padding: 10px;
    z-index: 1000;
    text-align: center;
    font-size: 18px;
    font-weight: bold;
    display: flex;
    justify-content: center;
    gap: 15px; /* Adds space between players */
    overflow: hidden; /* Prevents scrolling */
    white-space: nowrap; /* Keeps all players in a straight line */
}

        #auctionedPlayersWrapper {
    display: inline-block;
    white-space: nowrap;
    animation: scrollPlayers 5s linear infinite; /* Keeps speed stable */
}

        #scrollContent {
            display: inline-block;
            animation: scrollLeft 40s linear infinite;
        }

        @keyframes scrollLeft {
            from { transform: translateX(100%); }
            to { transform: translateX(-100%); }
        }
        #teamsContainer div {
    display: block !important;
}


		#hello {
    
    
    background: linear-gradient(to right, #75edc1, #b4da42);
    color: #2F4F4F;
    padding: 2rem;
    border-radius: 10px;
    display: block;
    width: 80%; /* Keep it within the main section */
    margin: 1rem auto; /* Centers the section */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    text-align: center;
    border: 3px solid #000; /* Adds a solid black border */
}




		header {
	         background-image: url('h.png');
		
             background-color: #FF8C00;
            color:#2F4F4F;
            padding: 4rem;
            text-align: center;
        }
        footer {
    background-image: url('he.png'); /* Change 'footer.png' to your image */
    
    background-position: center;
    background-color: #FF8C00;
    color: #2F4F4F;
    padding: 4rem;
    text-align: center;
}
       
        table {
            width: 100%;
            
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
			border-color:#1E90FF ;
            padding: 10px;
            text-align: center;
		justify-content: center;
			background-color:#F0FFF0;
			color:black;
        }
        th {
            background-color: green;
            color:white ;
        }
        button {
            padding: 10px;
            margin-top: 10px;
            
			
            color: white;
            border: none;
            cursor: pointer;
        }
        
            
		 h1 {
            font-size: 2rem;
            color:#B22222;
            overflow: hidden;
            border-right: .2em solid #ffffff;
            white-space: nowrap;
            margin: 0 auto;
            letter-spacing: .2em;
            animation: typing 3s steps(30, end), blink .5s step-end infinite alternate;
        }
         #playerImage {
            display: none; /* Initially hidden */
            width: 300px;
            height: auto;
        }
		@keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink {
            from { border-color: transparent }
            to { border-color: white; }
        }
        /* Ensure main is centered */


/* Styling for auction box */
.auction-box {
    background: linear-gradient(to right, #e8f389, #ea91e2);
    color: #2F4F4F;
    padding: 2rem;
    border-radius: 10px;
    width: 80%;
    margin: 1rem auto;
    box-shadow: 0 0 10px rgba(216, 216, 6, 0.2);
    text-align: center;
    border: 3px solid #fe8409;
    position: relative;
    overflow: hidden;
    height: 100px; /* Ensures the video stays within the box */
}

.scoring-video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: auto;
     object-fit: fill;
    z-index: 1;
    opacity: 0.6;
    animation: fadeIn 2s ease-in-out;

} 
@keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 0.4; }
}
.scorin-video {
    width: 100%;
    height: auto;
    border-radius: 10px;
    margin-top: 10px;
    display: none; /* Hidden by default */
}
       
.main-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
} 

/* Auction Title */
.auction-title {
    font-size: 24px;
    font-weight: bold;
    color: #000080;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 15px;
}
		
		
		h2{
		color:#8B0000;
        white-space: nowrap;
		}
		h3{
		color:#FF00FF;
		}
    </style>
</head>
<body>
 
    <header>

    </header>
     <div id="auctionScroll">
         <div id="auctionedPlayersWrapper"></div>
        <span id="scrollContent"> Sold Players will appear here...</span>
    </div>
	<div id="auctionedPlayersContainer"></div>

    <main>
         <div class="auction-box">
            <div class="main-container">
<video autoplay loop muted playsinline class="scoring-video">
        <source src="csk.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
        <h1 class="auction-title">Auction 2.0</h1>
       <a href="https://www.instagram.com/su.jin7301/?next=%2F" target="_blank">
    <button class="auction-button"onmouseover="this.style.background='#800080';" 
        onmouseout="this.style.background='#FF4500';"
        style="
            background:#FF4500; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px;
            position: relative; 
            border-radius: 5px; 
            z-index: 2;
            cursor: pointer;">Click me</button>
</a>
</div>
    </div>  
	<h2>Players List</h2>
        <button onclick="showPlayers('Wicketkeepers')" onmouseover="this.style.background='#6B8E23';" 
        onmouseout="this.style.background='blue';"
        style="
            background:blue; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">Wicketkeepers</button>
        <button onclick="showPlayers('Openers')"onclick="removePlayer('${team}', ${index})" 
        onmouseover="this.style.background='#6B8E23';" 
        onmouseout="this.style.background='blue';"
        style="
            background:blue; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">Openers</button>
        <button onclick="showPlayers('MiddleOrder')" onmouseover="this.style.background='#6B8E23';" 
        onmouseout="this.style.background='blue';"
        style="
            background:blue; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">Middle Order</button>
        <button onclick="showPlayers('AllRounders')" onmouseover="this.style.background='#6B8E23';" 
        onmouseout="this.style.background='blue';"
        style="
            background:blue; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">All-Rounders</button>
        <button onclick="showPlayers('Spinners')" onmouseover="this.style.background='#6B8E23';" 
        onmouseout="this.style.background='blue';"
        style="
            background:blue; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">Spinners</button>
        <button onclick="showPlayers('FastBowlers')" onmouseover="this.style.background='#6B8E23';" 
        onmouseout="this.style.background='blue';"
        style="
            background:blue; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">Fast Bowlers</button>
        <button onclick="showPlayers('ForeignPlayers')" onmouseover="this.style.background='#6B8E23';" 
        onmouseout="this.style.background='blue';"
        style="
            background:blue; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">Foreign Players</button>
        <button onclick="showPlayers('IndianPlayers')"onmouseover="this.style.background='#6B8E23';" 
        onmouseout="this.style.background='blue';"
        style="
            background:blue; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;"
    >Indian Players</button>
	    <div id="playerDisplay"></div>
<button onclick="prevPlayer()"style="
            background:grey; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">⬅️ Previous</button>
<button onclick="nextPlayer()"style="
            background:grey; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">➡️ Next</button>
		


        <div id="playersList"></div>
        <br>
        <h2>Unsold Players</h2>
<table id="unsoldPlayersTable" border="1" style="width: 100%; text-align: center;">
    <thead>
        <tr>
            <th>Name</th>
            <th>Remove</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<input type="text" id="unsoldPlayerName" placeholder="Enter Player Name" style="font-size: 18px; padding: 5px; width: 200px;">
<button onclick="addUnsoldPlayer()" style="background:#FF4500; color: white; border: none; padding: 10px 20px; font-size: 16px; border-radius: 5px; cursor: pointer;">Add Unsold Player</button>
		
		<a id="hello">
        <h2>Enter Auction Details</h2>
		<label for="teamName">Select Team:</label>
        <select id="teamName"style="font-size: 18px; padding: 5px; width: 200px;">
            <option value="">Select User</option>
            <option value="Sujin">Sujin</option>
            <option value="Ajin">Ajin</option>
            <option value="Abi">Abi</option>
            <option value="Asoke">Asoke</option>
            <option value="Kamal">Kamal</option>
            <option value="Anish">Anish</option>
            <option value="DD">DD</option>
            <option value="Raja">Raja</option>
            <option value="Aswath">Aswath</option>
            <option value="Varshan">Varshan</option>
            <option value="rrk">rrk</option>
            <option value="Gokul">Gokul</option>
             <option value="Jerwin">Jerwin</option>
        
        </select>
		
        <button onclick="setTeam()"onmouseover="this.style.background='#663399';" 
        onmouseout="this.style.background='#008000';"
        style="
            background:#008000; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;"">Select User</button>
		
        <h3 id="selectedTeam"></h3>
        <input type="text" id="playerName" placeholder="Enter Player Name"style="font-size: 18px; padding: 5px; width: 200px;"><br><br>
        <input type="number" id="price" placeholder="Enter Price in Cr"style="font-size: 18px; padding: 5px; width: 200px;"><br>
        <button onclick="addToAuction()"onmouseover="this.style.background='#663399';" 
        onmouseout="this.style.background='#008000';"
        style="
            background:#008000; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">Add to Auction</button>
            <video id="auctionVideo" class="scorin-video" autoplay muted playsinline style="display: none; width: 100%; height: auto;">
        <source src="au.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
     <img id="playerImage" src="" alt="Player Image">
		</a>
        <h2>Users</h2>
        <div id="teamsContainer"></div>
		 <h2>THE END</h2>
		<dl>
		<li>Congratulations to all the participants for taking part in this exciting auction game! Your strategic bidding and team-building skills made the competition thrilling—well done! 🎉👏</li>
		
    </main>
    <footer></footer>
    <div id="auctionMessages" style="color: white; font-size: 1.5rem;"></div>

    <script>
         let unsoldPlayers = JSON.parse(localStorage.getItem("unsoldPlayers")) || [];
    
    function addUnsoldPlayer() {
        const playerName = document.getElementById("unsoldPlayerName").value.trim();
        if (!playerName) {
            alert("Please enter a player name!");
            return;
        }
        if (unsoldPlayers.includes(playerName)) {
            alert("Player is already in the unsold list!");
            return;
        }
        
        unsoldPlayers.push(playerName);
        localStorage.setItem("unsoldPlayers", JSON.stringify(unsoldPlayers));
        updateUnsoldTable();
        document.getElementById("unsoldPlayerName").value = "";
    }
    
    function updateUnsoldTable() {
        const tableBody = document.querySelector("#unsoldPlayersTable tbody");
        tableBody.innerHTML = "";
        
        unsoldPlayers.forEach((player, index) => {
            const row = `<tr>
                <td>${player}</td>
                <td><button onclick="removeUnsoldPlayer(${index})" style="background:red; color: white; border: none; padding: 5px 10px; font-size: 14px; border-radius: 5px; cursor: pointer;">Remove</button></td>
            </tr>`;
            tableBody.innerHTML += row;
        });
    }
     function updateAuctionedPlayersUI() {
    const container = document.getElementById("auctionedPlayersContainer");
    container.innerHTML = "";
    
    Object.keys(teams).forEach(team => {
      teams[team].players.forEach(playerObj => {
        let playerDiv = document.createElement("div");
        playerDiv.textContent = `${playerObj.player} - ₹${playerObj.price} Cr`;
        playerDiv.style.padding = "5px";
        playerDiv.style.border = "1px solid black";
        playerDiv.style.backgroundColor = "lightgray";
        playerDiv.style.borderRadius = "5px";
        container.appendChild(playerDiv);
      });
    });
  }
    
    function removeUnsoldPlayer(index) {
        unsoldPlayers.splice(index, 1);
        localStorage.setItem("unsoldPlayers", JSON.stringify(unsoldPlayers));
        updateUnsoldTable();
    }
    
    window.addEventListener("load", updateUnsoldTable);
	const playerPoints = {
        "Jos Buttler":10, "Quinton De Kock":9, "Nicholas Pooran":10, "Rishab Pant":10, "Phil Salt":8,"Dhoni":10, "Ishan Kishan":8, "Jonny Bairstow":8, "Rahmanullah Gurbaz":7, "KL Rahul":8, "Jitesh Sharma":7, "Anuj Rawat":7, "Devon Conway":8, "Sanju Samson":8, "KS Bharat":7, "Shai Hope":6,
        "Ruturaj Gaikwad":8,"Rohit":10, "Shubman Gill":8, "Abhishek Sharma":9, "Yashasvi Jaiswal":8, "Sai Sudharsan":8, "Faf du Plessis":8, "David Warner":8, "Kane Williamson":6, "Daryl Mitchell":6,"Mohammad Rizwan":6,
        "David Miller":9,"virat":10,"urvil patel":7,"pryanch arya":8,"ayuesh matra":8,"vaivabu suryavanshi":9, "Suryakumar Yadav":10, "Will Jacks":8, "Jake Fraser-McGurk":9, "Dewald breavis":8,"Travis Head":10, "Shimron Hetmyer":8, "Tim David":8,"Kedar Jadhav ":6, "Heinrich Klaasen":10, "Tristan Stubbs":8, "Rovman Powell":6, "Rahul Tripathi":7, "Shivam Dube":8, "Deepak Hooda":6, "Shahrukh Khan":7, "Rinku Singh":8, "Manish Pandey":7, "Ajinkya Rahane":8, "Ayush Badoni":7, "Abdul Samad":7, "Tilak Verma":9, "Dhruv Jurel":7, "Riyan Parag":8, "Nitish Rana":6, "Rajat Patidar":8, "Abhinav Manohar":7, "Sameer Rizvi":6, "Shreyas Iyer":9, "Sarfaraz Khan":6, "Narayan Jagadeesan":6, "Prabhsimran Singh":8, "Shahbaz Ahmed":7, "Steve Smith":7, "Harry Brook":7, "Rilee Rossouw":6,
        "Ben Stokes":7, "Sunil Narine":10, "Andre Russell":10, "Hardik Pandya":10, "Glenn Maxwell":9, "Marcus Stoinis":9, "Romario Shepherd":8, "Liam Livingstone":8, "Mitchell Marsh":8, "Cameron Green":7, "Ravindra Jadeja":8, "Rachin Ravindra":7, "Sam Curran":7, "Axar Patel":8, "Rahul Tewatia":8, "Washington Sundar":7, "Venkatesh Iyer":7, "Moeen Ali":7, "Mitchell Santner":8, "Krunal Pandya":8, "Nitish Reddy":9, "Jason Holder":6, "Mohammad Nabi":6, "Aiden Markram":7, "Glenn Phillips":7, "Vijay Shankar":7, "Shakib Al Hasan":6, "Kyle Mayers":7,
        "Rashid Khan":10, "Ravichandran Ashwin":10, "Noor Ahmad":9, "Kuldeep Yadav":10, "Varun Chakravarthy":9, "Ravi Bishnoi":9, "Yuzvendra Chahal":10, "Rahul Chahar":8, "R. Sai Kishore":6, "Mayank Markande":6, "Maheesh Theekshana":7, "Wanindu Hasaranga":7, "Adam Zampa":6, "Shreyas Gopal":6, "Karn Sharma":7, "Krishnappa Gowtham":6, "Adil Rashid":6,
        "Matheesha Pathirana":10, "Mitchell Starc":10, "Kagiso Rabada":9, "Anrich Nortje":9, "Trent Boult":10, "Jasprit Bumrah":10, "Arshdeep Singh":9, "Jofra Archer":9, "Bhuvneshwar Kumar":10, "Josh Hazlewood":9, "Mohammad Shami":9, "Mohammad Siraj":8, "T. Natarajan":8, "Naveen-ul-Haq":7, "Pat Cummins":10, "Marco Jansen":9, "Mohit Sharma":8, "Shardul Thakur":6, "Ishant Sharma":8, "Prasidh Krishna":9, "Umesh Yadav":7, "Umran Malik":6, "Avesh Khan":7, "Deepak Chahar":8, "Nathan Ellis":7, "Lockie Ferguson":6, "Sandeep Sharma":7, "Tushar Deshpande":9, "Nuwan Thushara":7, "Harshal Patel":8, "Khaleel Ahmed":7, "Alzarri Joseph":6, "Tim Southee":6, "Chris Jordan":6, "Gerald Coetzee":7, "Spencer Johnson":6,
        "Tom Latham":6,"Sam Billings":6,"Reeza Hendricks":6,"Dwaine Pretorius":6,"Ish Sodhi":6,"Mark Wood":7,"Babar Azam":7,"Shaheen Afridi":7,"Chris Woakes":6,"Lungi Ngidi":7,"James Neesham":6,"Tom Curran":6,"Evin Lewis":7,"Jason Behrendorff":6,"Matthew Wade":6,"Jason Roy":6,
        "Mayank Agarwal":8,"Devdutt Padikkal":7,"Kamlesh Nagarkoti":6,"Shivam Mavi":6,"Suyash Sharma":6,"Lalit Yadav":6,"Chetan Sakariya":7,"Harshit Rana":8,"Arjun Tendulkar":6,"Yash Dayal":8,"Sandeep Warrier":6,"Suyash Prabhudessai":6
       
    };
	const players = {
            Wicketkeepers: [{ name:"Jos Buttler",image: "jos.png" }, { name:"Quinton De Kock",image: "https://github.com/gjhklm-s/advance/releases/download/qdk/qdk.png"},  { name: "Nicholas Pooran", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.140502.png" },
    { name: "Rishab Pant", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.140645.png" },
    { name: "Phil Salt", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.140719.png" },
    { name: "Dhoni", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141108.png" },
    { name: "Ishan Kishan", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141208.png" },
    { name: "Jonny Bairstow", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141258.png" },
    { name: "Rahmanullah Gurbaz", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141324.png" },
    { name: "KL Rahul", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141347.png" },
    { name: "Jitesh Sharma", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141502.png" },
    { name: "Anuj Rawat", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141601.png" },
    { name: "Devon Conway", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141622.png" },
    { name: "Sanju Samson", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141647.png" },
    { name: "KS Bharat", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141736.png" },
    { name: "Shai Hope", image: "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.141759.png" }
],
            Openers: [ { "name": "Ruturaj Gaikwad", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.183245.png" },
  { "name": "Rohit", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.183311.png" },
  { "name": "Shubman Gill", "image": "gill.png" },
  { "name": "Abhishek Sharma", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.183347.png" },
  { "name": "Yashasvi Jaiswal", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.183422.png" },
  { "name": "Sai Sudharsan", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.183530.png" },
  { "name": "Faf du Plessis", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.183554.png" },
  { "name": "David Warner", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.183648.png" },
  { "name": "Kane Williamson", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.183725.png" },
  { "name": "Daryl Mitchell", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.183745.png" },
  { "name": "Mohammad Rizwan", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.183808.png" }],
            MiddleOrder: [{ "name": "David Miller", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184738.png" },
			  {"name":"Dewald breavis","image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184738.png"},
			  {"name":"urvil patel","image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184738.png"},
			  {"name":"pryanch arya","image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184738.png"},
			  {"name":"ayuesh matra","image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184738.png"},
			  {"name":"vaivabu suryavanshi","image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184738.png"},
  { "name": "Virat", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184806.png" },
  { "name": "Suryakumar Yadav", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184827.png" },
  { "name": "Will Jacks", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184902.png" },
  { "name": "Jake Fraser-McGurk", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184920.png" },
  { "name": "Travis Head", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.184945.png" },
  { "name": "Shimron Hetmyer", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185004.png" },
  { "name": "Tim David", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185037.png" },
  { "name": "Kedar Jadhav", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185106.png" },
  { "name": "Heinrich Klaasen", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185129.png" },
  { "name": "Tristan Stubbs", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185150.png" },
  { "name": "Rovman Powell", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185221.png" },
  { "name": "Rahul Tripathi", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185245.png" },
  { "name": "Shivam Dube", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185300.png" },
  { "name": "Deepak Hooda", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185324.png" },
  { "name": "Shahrukh Khan", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185406.png" },
  { "name": "Rinku Singh", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.185434.png" },
  { "name": "Manish Pandey", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190106.png" },
  { "name": "Ajinkya Rahane", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190125.png" },
  { "name": "Ayush Badoni", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190157.png" },
  { "name": "Abdul Samad", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190248.png" },
  { "name": "Tilak Verma", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190311.png" },
  { "name": "Dhruv Jurel", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190333.png" },
  { "name": "Riyan Parag", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190352.png" },
  { "name": "Nitish Rana", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190408.png" },
  { "name": "Rajat Patidar", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190426.png" },
  { "name": "Abhinav Manohar", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190455.png" },
  { "name": "Sameer Rizvi", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190514.png" },
  { "name": "Shreyas Iyer", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190542.png" },
  { "name": "Sarfaraz Khan", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190605.png" },
  { "name": "Narayan Jagadeesan", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190625.png" },
  { "name": "Prabhsimran Singh", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190648.png" },
  { "name": "Shahbaz Ahmed", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190736.png" },
  { "name": "Steve Smith", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190759.png" },
  { "name": "Harry Brook", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190817.png" },
  { "name": "Rilee Rossouw", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.190843.png" }
],
            AllRounders: [ { "name": "Ben Stokes", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193008.png" },
  { "name": "Sunil Narine", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193027.png" },
  { "name": "Andre Russell", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193053.png" },
  { "name": "Hardik Pandya", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193112.png" },
  { "name": "Glenn Maxwell", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193127.png" },
  { "name": "Marcus Stoinis", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193143.png" },
  { "name": "Romario Shepherd", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193201.png" },
  { "name": "Liam Livingstone", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193217.png" },
  { "name": "Mitchell Marsh", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193236.png" },
  { "name": "Cameron Green", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193251.png" },
  { "name": "Ravindra Jadeja", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193307.png" },
  { "name": "Rachin Ravindra", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193326.png" },
  { "name": "Sam Curran", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193342.png" },
  { "name": "Axar Patel", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193359.png" },
  { "name": "Rahul Tewatia", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193422.png" },
  { "name": "Washington Sundar", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193437.png" },
  { "name": "Venkatesh Iyer", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193524.png" },
  { "name": "Moeen Ali", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193540.png" },
  { "name": "Mitchell Santner", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193611.png" },
  { "name": "Krunal Pandya", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193642.png" },
  { "name": "Nitish Reddy", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193713.png" },
  { "name": "Jason Holder", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193736.png" },
  { "name": "Mohammad Nabi", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193751.png" },
  { "name": "Aiden Markram", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193813.png" },
  { "name": "Glenn Phillips", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193852.png" },
  { "name": "Vijay Shankar", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193911.png" },
  { "name": "Shakib Al Hasan", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193939.png" },
  { "name": "Kyle Mayers", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.193955.png" }
],
            Spinners: [ { "name": "Rashid Khan", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.195629.png" },
  { "name": "Ravichandran Ashwin", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.195653.png" },
  { "name": "Noor Ahmad", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.195708.png" },
  { "name": "Kuldeep Yadav", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.195728.png" },
  { "name": "Varun Chakravarthy", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.195749.png" },
  { "name": "Ravi Bishnoi", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.195806.png" },
  { "name": "Yuzvendra Chahal", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.195821.png" },
  { "name": "Rahul Chahar", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.195905.png" },
  { "name": "R. Sai Kishore", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.195928.png" },
  { "name": "Mayank Markande", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.200014.png" },
  { "name": "Maheesh Theekshana", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.200034.png" },
  { "name": "Wanindu Hasaranga", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.200050.png" },
  { "name": "Adam Zampa", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.200104.png" },
  { "name": "Shreyas Gopal", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.200128.png" },
  { "name": "Karn Sharma", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.200153.png" },
  { "name": "Krishnappa Gowtham", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.200239.png" },
  { "name": "Adil Rashid", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.200256.png" }
    ],
            FastBowlers: [ { "name": "Matheesha Pathirana", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201013.png" },
  { "name": "Mitchell Starc", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201031.png" },
  { "name": "Kagiso Rabada", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201046.png" },
  { "name": "Anrich Nortje", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201101.png" },
  { "name": "Trent Boult", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201115.png" },
  { "name": "Jasprit Bumrah", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201132.png" },
  { "name": "Arshdeep Singh", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201144.png" },
  { "name": "Jofra Archer", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201202.png" },
  { "name": "Bhuvneshwar Kumar", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201219.png" },
  { "name": "Josh Hazlewood", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201233.png" },
  { "name": "Mohammad Shami", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201249.png" },
  { "name": "Mohammad Siraj", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201314.png" },
  { "name": "T. Natarajan", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201334.png" },
  { "name": "Naveen-ul-Haq", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201348.png" },
  { "name": "Pat Cummins", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201405.png" },
  { "name": "Marco Jansen", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201417.png" },
  { "name": "Mohit Sharma", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201435.png" },
  { "name": "Shardul Thakur", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201450.png" },
  { "name": "Ishant Sharma", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201507.png" },
  { "name": "Prasidh Krishna", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201526.png" },
  { "name": "Umesh Yadav", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201540.png" },
  { "name": "Umran Malik", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201555.png" },
  { "name": "Avesh Khan", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201608.png" },
  { "name": "Deepak Chahar", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201626.png" },
  { "name": "Nathan Ellis", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201640.png" },
  { "name": "Lockie Ferguson", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201711.png" },
  { "name": "Sandeep Sharma", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201740.png" },
  { "name": "Tushar Deshpande", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201759.png" },
  { "name": "Nuwan Thushara", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201815.png" },
  { "name": "Harshal Patel", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201829.png" },
  { "name": "Khaleel Ahmed", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201844.png" },
  { "name": "Alzarri Joseph", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201910.png" },
  { "name": "Tim Southee", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201941.png" },
  { "name": "Chris Jordan", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.201958.png" },
  { "name": "Gerald Coetzee", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.202012.png" },
  { "name": "Spencer Johnson", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.202034.png" }
],
        ForeignPlayers:[{ "name": "Tom Latham", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.202956.png" },
  { "name": "Sam Billings", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203014.png" },
  { "name": "Reeza Hendricks", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203030.png" },
  { "name": "Dwaine Pretorius", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203104.png" },
  { "name": "Ish Sodhi", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203118.png" },
  { "name": "Mark Wood", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203135.png" },
  { "name": "Babar Azam", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203153.png" },
  { "name": "Shaheen Afridi", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203209.png" },
  { "name": "Chris Woakes", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203238.png" },
  { "name": "Lungi Ngidi", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203252.png" },
  { "name": "James Neesham", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203307.png" },
  { "name": "Tom Curran", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203325.png" },
  { "name": "Evin Lewis", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203359.png" },
  { "name": "Jason Behrendorff", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203414.png" },
  { "name": "Matthew Wade", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203435.png" },
  { "name": "Jason Roy", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.203450.png" }
],
        IndianPlayers:[ { "name": "Mayank Agarwal", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204108.png" },
  { "name": "Devdutt Padikkal", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204135.png" },
  { "name": "Kamlesh Nagarkoti", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204153.png" },
  { "name": "Shivam Mavi", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204209.png" },
  { "name": "Suyash Sharma", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204227.png" },
  { "name": "Lalit Yadav", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204259.png" },
  { "name": "Chetan Sakariya", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204320.png" },
  { "name": "Harshit Rana", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204338.png" },
  { "name": "Arjun Tendulkar", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204355.png" },
  { "name": "Yash Dayal", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204410.png" },
  { "name": "Sandeep Warrier", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204433.png" },
  { "name": "Suyash Prabhudessai", "image": "https://github.com/gjhklm-s/advance/releases/download/qdk/Screenshot.2025-03-16.204457.png" }
]
		};
		function showPlayers(category) {
            document.getElementById("playersList").innerHTML =  `<h2>${category.replace(/([A-Z])/g, ' $1')}</h2><ol>` + players[category].map(player => `<li>${player}</li>`).join('') + `</ol>`;
        }
        

        let teams = JSON.parse(localStorage.getItem("teams")) || {
            "Sujin": { players: [], totalSpent: 0, remainingBudget: 150 },
            "Ajin": { players: [], totalSpent: 0, remainingBudget: 150 },
            "Abi": { players: [], totalSpent: 0, remainingBudget: 150 },
            "Asoke": { players: [], totalSpent: 0, remainingBudget: 150 },
            "Kamal": { players: [], totalSpent: 0, remainingBudget: 150 },
            "Anish": { players: [], totalSpent: 0, remainingBudget: 150 },
            "DD": { players: [], totalSpent: 0, remainingBudget: 150 },
            "Raja": { players: [], totalSpent: 0, remainingBudget: 150 },
            "Aswath": { players: [], totalSpent: 0, remainingBudget: 150 },
            "Varshan": { players: [], totalSpent: 0, remainingBudget: 150 },
             "rrk": { players: [], totalSpent: 0, remainingBudget: 150 },
             "Gokul": { players: [], totalSpent: 0, remainingBudget: 150 },
              "Jerwin": { players: [], totalSpent: 0, remainingBudget: 150 },
        };
        let currentCategory = "";
    let currentIndex = 0;

    function showPlayers(category) {
        currentCategory = category;
        currentIndex = 0;
        displayPlayer();
    }
    function displayPlayer() {
    const playerContainer = document.getElementById("playerDisplay");
    const player = players[currentCategory][currentIndex];

    if (!player) {
        playerContainer.innerHTML = "No player found.";
        return;
    }

    const playerName = (typeof player === "object") ? player.name : player;
    const playerImage = (typeof player === "object" && player.image) ? player.image : "";

    playerContainer.innerHTML = `
        <div style="text-align: center;">
            <h2>${playerName}
                <button onclick="copyToClipboard('${playerName}')" 
                        style="
            background:orange; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 5px; 
            cursor: pointer;">
                    📋 Copy
                </button>
            </h2>
            ${playerImage ? `<img src="${playerImage}" style="max-width: 200px; border-radius: 8px;">` : "<p>No image available.</p>"}
        </div>
    `;
}

function copyToClipboard(text) {
    // Try Clipboard API first (works in most modern browsers)
    if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(text)
            .then(() => {
                showCopyToast("Copied: " + text);
            })
            .catch(err => {
                fallbackCopy(text);
            });
    } else {
        fallbackCopy(text);
    }
}

function fallbackCopy(text) {
    // Create a temporary hidden textarea
    const textArea = document.createElement("textarea");
    textArea.value = text;

    // Avoid scrolling to bottom
    textArea.style.position = "fixed";
    textArea.style.top = 0;
    textArea.style.left = 0;
    textArea.style.opacity = 0;

    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();

    try {
        const successful = document.execCommand("copy");
        showCopyToast(successful ? "Copied: " + text : "Copy failed");
    } catch (err) {
        alert("Unable to copy.");
    }

    document.body.removeChild(textArea);
}
function showCopyToast(message) {
    const toast = document.createElement("div");
    toast.textContent = message;
    toast.style.cssText = `
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        background: #333;
        color: #fff;
        padding: 10px 20px;
        border-radius: 6px;
        font-size: 14px;
        z-index: 10000;
        opacity: 0;
        transition: opacity 0.3s ease;
    `;
    document.body.appendChild(toast);
    setTimeout(() => {
        toast.style.opacity = 1;
    }, 10);
    setTimeout(() => {
        toast.style.opacity = 0;
        setTimeout(() => document.body.removeChild(toast), 300);
    }, 2000);
}

function nextPlayer() {
    if (!players[currentCategory] || !Array.isArray(players[currentCategory]) || players[currentCategory].length === 0) {
        alert("No players available in this category!");
        return;
    }

    currentIndex = (currentIndex + 1) % players[currentCategory].length;
    displayPlayer();

    const player = players[currentCategory][currentIndex];

    if (player && typeof player === "object") {
        if (player.name) {
            alert('The next player is ' + player.name);
            speakText('The next player is ' + player.name);
        } else {
            alert("Player name is missing.");
        }

        showImageAlert(); // Show image if available
    } else {
        alert('The next player is  '+ players[currentCategory][currentIndex] ); 
        speakText('The next player is  '+ players[currentCategory][currentIndex] );
        
    }
}
function updateAuctionedPlayers(player) {
    let container = document.getElementById("scrollContent");

    let playerElement = document.createElement("span");
    playerElement.classList.add("auctionedPlayer");
    playerElement.textContent = player;
    playerElement.style.padding = "5px 15px";
    playerElement.style.background = "#ffcc00";
    playerElement.style.color = "black";
    playerElement.style.borderRadius = "5px";
    playerElement.style.fontWeight = "bold";

    container.appendChild(playerElement);

    adjustScrollSpeed();
}

function adjustScrollSpeed() {
    let container = document.getElementById("scrollContent");
    let totalWidth = container.scrollWidth;
    let speed = totalWidth / 100; // Adjust speed based on width (constant)
    
    container.style.animation = `scrollLeft ${speed}s linear infinite`;
}

// Add animation dynamically
let style = document.createElement("style");
style.innerHTML = `
    @keyframes scrollLeft {
        from { transform: translateX(100%); }
        to { transform: translateX(-100%); }
    }
`;
document.head.appendChild(style);



function prevPlayer() {
    if (!players[currentCategory] || players[currentCategory].length === 0) return;
    currentIndex = (currentIndex - 1 + players[currentCategory].length) % players[currentCategory].length;
    displayPlayer();
}

function showImageAlert() {
    const player = players[currentCategory][currentIndex];

    if (typeof player === "object" && player.image) {
        // Remove existing alert if already open
        const existingAlert = document.getElementById("imageAlert");
        if (existingAlert) {
            existingAlert.remove();
        }

        // Create a new image alert
        const imgAlert = `
            <div id="imageAlert" style="
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0, 0, 0, 0.8); display: flex; 
                justify-content: center; align-items: center; 
                z-index: 1000; padding: 20px; box-sizing: border-box;
            ">
                <div style="
                    background: white; padding: 10px; width: 90%; 
                    max-width: 500px; text-align: center; 
                    border-radius: 10px; box-shadow: 0px 0px 15px black;
                ">
                    <p style="font-size: 22px; font-weight: bold; margin-bottom: 10px;">
                        ${player.name}
                    </p>
                    <img src="${player.image}" style="
                        width: 100%; height: auto; border-radius: 8px; 
                        max-height: 80vh; object-fit: contain;
                    ">
                <br>
                <button onclick="document.getElementById('imageAlert').remove()" style="
                    background: red; 
                    color: white; 
                    border: none; 
                    padding: 5px 10px; 
                    margin-top: 10px; 
                    font-size: 14px; 
                    cursor: pointer;">
                    Close
                </button>
            </div>
        `;
        document.body.insertAdjacentHTML("beforeend", imgAlert);
    } else {
        alert("No image.");
    }
}

        let totalBudget = 150;
        let playerLimit = 16;
        
        function setTeam() {
            const selectedTeam = document.getElementById("teamName").value;
            if (!selectedTeam) {
                alert("Please select a user!");
                return;
            }
            document.getElementById("selectedTeam").textContent = "Selected User: " + selectedTeam;
        }
        
        function speakText(text) {
            if ('speechSynthesis' in window) {
                let speech = new SpeechSynthesisUtterance(text);
                speech.lang = 'en-US';
                speech.volume = 1;
                speech.rate = 1;
                speech.pitch = 1;
                window.speechSynthesis.speak(speech);
            }
        }
// ✅ Initialize teams object if not defined
 function addToAuction() {
    const selectedTeam = document.getElementById("teamName").value;
    const player = document.getElementById("playerName").value;
    let price = parseFloat(document.getElementById("price").value);
     let auctionVideo = document.getElementById("auctionVideo");

    console.log("Add to Auction clicked!"); 

    if (!selectedTeam || !player || isNaN(price) || price <= 0) {
        alert("Please enter valid details!");
        speakText("Please enter valid details!");
        return;
    }

    console.log("Displaying video..."); // Debugging

    // Show the video and play from the start
    auctionVideo.style.display = "block";
    auctionVideo.currentTime = 0;
    auctionVideo.play();

    // Hide the video after 5 seconds
    setTimeout(() => {
        console.log("Hiding video..."); // Debugging
        auctionVideo.style.display = "none";
    }, 15000);

    // ✅ Prevent Duplicate Player
    for (let team in teams) {
        if (teams[team]?.players?.some(p => p.player === player)) {
            alert(`Player "${player}" is already sold!`);
             speakText(`Player "${player}" is already sold!`);
            return;
        }
    }
if (unsoldPlayers.includes(player)) {
            alert(`Player "${player}" is in the unsold list and cannot be added to another table!`);
            speakText(`Player ${player} is in the unsold list and cannot be added!`);
            return;
        }
    // ✅ Ensure Team Exists
    if (!teams[selectedTeam]) {
        teams[selectedTeam] = { players: [], totalSpent: 0, remainingBudget: totalBudget };
    }

    // ✅ Ensure players array exists
    if (!teams[selectedTeam].players) {
        teams[selectedTeam].players = [];
    }

    // ✅ Player Limit Check
    if (teams[selectedTeam].players.length >= playerLimit) {
        alert("Player limit reached for this team!");
        speakText("Player limit reached for " + selectedTeam);
        return;
    }

    // ✅ Budget Check
    if (teams[selectedTeam].totalSpent + price > totalBudget) {
        alert("Budget Exceeded! You cannot spend more than ₹150 Cr.");
        speakText("Budget Exceeded! You cannot spend more than 150 crore rupees.");
        return;
    }

    let points = playerPoints[player] || 4;

    // ✅ Add Player to Team
    teams[selectedTeam].players.push({ player, price, points });
    teams[selectedTeam].totalSpent += price;
    teams[selectedTeam].remainingBudget = totalBudget - teams[selectedTeam].totalSpent;

    // 🔥 Update Firebase and FORCE UI Update
    update(ref(db, `teams/${selectedTeam}`), {
        players: teams[selectedTeam].players,
        totalSpent: teams[selectedTeam].totalSpent,
        remainingBudget: teams[selectedTeam].remainingBudget
    }).then(() => {
        console.log(`✅ Player "${player}" added successfully to ${selectedTeam}`);
        updateTeamTables(); // ✅ Ensure UI updates immediately
    }).catch(error => {
        console.error("❌ Error adding player to Firebase:", error);
    });

    // 🔥 Save auction data
    set(ref(db, `auctions/${player}`), {
        player,
        price,
        team: selectedTeam,
        points,
        timestamp: Date.now()
    });

    let totalPoints = teams[selectedTeam].players.reduce((sum, p) => sum + (p.points || 0), 0);
    let message = `${selectedTeam} bought ${player} for ${price} Crores.`;

    if (price >= 0.5 && price <= 5) message += "\nIt's a steal buy!";
    else if (price > 5 && price <= 10) message += "\nIt's an excellent buy!";
    else if (price > 10 && price <= 15) message += "\nIt's a great buy!";
    else if (price > 15 && price <= 20) message += "\nIt's a good buy!";
    else if (price > 21) message += "\nOver Priced!";
    message += `\nTotal Points: ${totalPoints}.`;

    alert(message);
    speakText(message);
      // 🔥 Send Real-Time Message
    push(ref(db, "auctionMessages"), {
        message: `${selectedTeam} bought ${player} for ₹${price} Cr!`,
        totalPoints: totalPoints,  
        timestamp: Date.now()
    });
    updateAuctionScroll(player, selectedTeam, price);

    alert(`${selectedTeam} bought ${player} for ₹${price} Cr!\nTotal Points: ${totalPoints}`);
}






// ✅ Remove Player from Firebase
function removePlayerFromFirebase(team, playerName) {
    if (confirm(`Are you sure you want to remove ${playerName} from ${team}?`)) {
        let newPlayers = teams[team]?.players?.filter(p => p.player !== playerName) || [];
        let totalSpent = newPlayers.reduce((sum, p) => sum + p.price, 0);
        let remainingBudget = totalBudget - totalSpent;

        let teamUpdate = {
            players: newPlayers,
            totalSpent,
            remainingBudget
        };

        // 🔥 If no players left, ensure empty array is saved in Firebase
        if (newPlayers.length === 0) {
            teamUpdate.players = []; // Explicitly set empty array
        }

        // 🔥 Update Firebase
        update(ref(db, `teams/${team}`), teamUpdate)
        .then(() => {
            console.log(`✅ Player "${playerName}" removed successfully from ${team}`);
            updateTeamTables(); // ✅ Ensure UI updates immediately
        })
        .catch(error => {
            console.error("❌ Error removing player from Firebase:", error);
        });

        // 🔥 Remove player from auction records
        remove(ref(db, `auctions/${playerName}`));
    }
}


// ✅ Listen for Auction Updates (Real-Time)
function listenForAuctionUpdates() {
    onValue(ref(db, "auctions"), (snapshot) => {
        if (snapshot.exists()) {
            console.log("Auction Updates:", snapshot.val());
            updateAuctionTable(snapshot.val());
        } else {
            console.log("No auction data available.");
        }
    });

}
 function updateAuctionScroll(player, team, price) {
            const scrollDiv = document.getElementById("scrollContent");
            scrollDiv.innerHTML += ` 🔥 ${team} bought ${player} for ₹${price} Cr! &nbsp;&nbsp;`;
        }
function updateTeamTables() {
    const teamsContainer = document.getElementById("teamsContainer");
    if (!teamsContainer) {
        console.error("teamsContainer div is missing in HTML!");
        return;
    }

    teamsContainer.innerHTML = "<p>Loading teams...</p>"; // Temporary loading message

    // ✅ Use Firebase onValue to listen for real-time updates
    onValue(ref(db, "teams"), (snapshot) => {
        if (snapshot.exists()) {
            const teamsData = snapshot.val();
            console.log("🔄 Live Team Data from Firebase:", teamsData);

            teams = teamsData; // ✅ Keep local teams updated
            teamsContainer.innerHTML = ""; // ✅ Clear existing tables before rendering

            Object.keys(teamsData).forEach(team => {
                const teamDiv = document.createElement("div");
                teamDiv.style.marginBottom = "20px"; // Add spacing between team tables

                // ✅ Ensure players list is always an array
                let players = teamsData[team]?.players ? Object.values(teamsData[team].players) : [];

                let totalPoints = players.reduce((sum, player) => sum + (player.points || 0), 0);

                let playersHTML = players.length > 0
                    ? players.map(player => `
                        <tr>
                            <td>${player.player}</td>
                            <td>₹${player.price.toFixed(2)} Cr</td>
                            <td>${player.points}</td>
                            <td>
                                <button onclick="removePlayerFromFirebase('${team}', '${player.player}')"
                                    style="background: red; color: white; border: none; padding: 10px 20px; font-size: 16px; border-radius: 5px; cursor: pointer;">
                                    Remove
                                </button>
                            </td>
                        </tr>
                    `).join("")
                    : ""; // ✅ Keep the table empty if no players exist

                teamDiv.innerHTML = `
                    <h3>${team} (Players: ${players.length}/${playerLimit})</h3>
                    <p><strong>Total Spent: ₹${(teamsData[team].totalSpent || 0).toFixed(2)} Cr</strong></p>
                    <p><strong>Remaining Budget: ₹${(teamsData[team].remainingBudget || totalBudget).toFixed(2)} Cr</strong></p>
                    <table border="1" cellpadding="10" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Player</th>
                                <th>Price (Cr)</th>
                                <th>Points</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="team-${team}-players">${playersHTML}</tbody>
                        <tfoot>
                            <tr>
                                <td colspan="2"><strong>Total Players: ${players.length}</strong></td>
                                <td colspan="2"><strong>Total Points: ${totalPoints}</strong></td>
                            </tr>
                        </tfoot>
                    </table>
                `;

                teamsContainer.appendChild(teamDiv);
            });
        } else {
            console.log("No team data available.");
            teamsContainer.innerHTML = ""; // ❌ Don't show any message if no teams exist
        }
    }, { onlyOnce: false }); // ✅ Listen for real-time updates!
}
// ✅ Ensure the function runs when the page loads
document.addEventListener("DOMContentLoaded", () => {
    updateTeamTables();
});





</script>
</body>
</html>
